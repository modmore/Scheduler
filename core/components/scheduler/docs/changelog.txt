Scheduler 1.9.0-pl
------------------
Released on 2026-01-22

This release combines all changes from the separate versions previously maintained by modmore and @biz87 (found on Modstore) into a single codebase.

Version 1.9 includes all updates from both forks up to January 20, 2026.

Major Changes:

* **Fork Unification:** Merged all features and fixes from the modmore and @biz87 forks to ensure a single, consistent version moving forward.
* **Recurring Tasks:** Tasks can now be set to repeat automatically after a successful run using the new automatic rescheduling feature. This was already possible in code, now also in the UI.
* **Retry System:** Added the ability for failed tasks to retry automatically. This includes new settings for the maximum number of retries and the delay between attempts.
* **Custom Notifications:** You can now customize the email template and subject line used for task failure alerts via system settings.

### General Improvements

* Fixed a race condition issue to ensure task statuses update correctly and safely if you have multiple triggers.
* Added database indexes to help the system select and run pending tasks faster.
* Improved memory management by cleaning up resources after every task execution.
* Updated error handling to be more robust, catching both system errors and basic exceptions.
* Improved compatibility with MODX 3 namespaced processors.
* Fixed a timing bug where tasks were occasionally rounded up to the next minute incorrectly.
* Added a new setting to limit how many tasks are processed in a single run.

### Interface and Developer Updates

* Added the retry count to the task history grid.
* Added fields for max retries and retry delay to the task edit window.
* Fixed the component icon in the main menu.
* Made sTaskRun constants public and standardized the code style across the package.
* Added a simpler way to set task keys when scheduling tasks through code.

Scheduler 1.5.0-pl (modmore)
------------------
Released on 2025-02-14

- Historic runs can now be removed (@biz87) [#30, #36]
- Historic runs grid now has an actions column with buttons (@biz87) [#30, #36]
- Batch removal now possible on the historic runs grid by holding Ctrl when selecting a row, then right click and remove (@biz87) [#30, #36]
- Relative file path field upgraded to now use the MODX file browser for file based tasks, in the task window (@biz87) [#32, #37]
- Remove padding on container panel to look better in MODX 3 [51313f4]
- Switch to anchor layout for grid containers to force fit when screen size changes [1696735]

Scheduler 1.4.1-pl
------------------
Released on 2022-12-16

- Add russian translation [#27]

Scheduler 1.4.0-pl
------------------
Released on 2021-06-25

- Apply some left padding to the stats bar in the component
- Apply formatting to the stats bar to make it easier to read thousands/millions
- Show average processing time on the tasks list
- Update grids to allow filtering on specific tasks instead of only the namespace, adjust visible columns
- Only show row expander in historic runs if there is a message or an error for the task

Scheduler 1.3.0-pl
------------------
Released on 2021-02-20

- Add indices for various fields used for searching and filtering, should improve performance on sites with a large history substantially [#25]
- Add task_key field to sTaskRun, to allow setting/searching/indexing of small pieces of data. Among other things, this allows outside extras to retrieve and act on task runs more easily.
- Track the processing time of task runs [#20]
- Add optional automatic cleanup of old tasks. Set the scheduler.delete_tasks_after system setting to a value like "-1 year" or "-2 weeks" to remove completed and failed tasks older than that.

Scheduler 1.2.0-pl
------------------
Released on 2020-01-03

- Fix use of old modAction-based routing, removed in 3.0
- Fix incorrect processor names with new case sensitivity in 3.0
- Improve display of grids in MODX3 to better fit with the gear icon
- Better handle Error/Exceptions triggered by a task
- Make sure modError service is loaded
- Send an email when a task run fails to configured address (scheduler.email_failure setting) [#14]

Scheduler 1.1.0-pl
------------------
Released on 2015-05-29

- sTask->schedule now returns the sTaskRun object on success
- Add option to schedule a task from the task context menu (#11)
- Fix several issues when sTaskRun.data isn't an array (#15, #18)
- Use configured manager_date_format and manager_time_format for the date/time displayed in the component (#16)
- Fix adding non-snippet tasks due to validation (#13)
- Fix fields being duplicated in the Tasks window
- Improve display of (nested) data arrays in grid

Scheduler 1.0.2-pl
------------------
Released on 2014-05-29

Fix typos in English lexicon, added Dutch and German (Thx Christian Seel!)

Scheduler 1.0.1-pl
------------------
Released on 2014-05-07

- Fixed: load right package meta data at installation


Scheduler 1.0.0-pl
------------------
Released on 2014-05-07

- Initial release
